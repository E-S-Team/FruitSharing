{"remainingRequest":"/Users/zhangzhou/MyProgram/demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangzhou/MyProgram/demo/src/views/currency/currency.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangzhou/MyProgram/demo/src/views/currency/currency.vue","mtime":1580869908000},{"path":"/Users/zhangzhou/MyProgram/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangzhou/MyProgram/demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhangzhou/MyProgram/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangzhou/MyProgram/demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogImN1cnJlbmN5IiwKICAgIC8vIHRoZSBhYmJyZXZpYXRpb24gb2YgY3VycmVuY3kgdG8gZGlzcGxheSBmb3IgdGhpcyBjb21wb25lbnQKICAgIHByb3BzOiBbImFiYnIiXSwKICAgIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhbW91bnRFZGl0aW5nOiBudWxsCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC8qKgogICAgICAgICAqIEdldHMgZGF0YSB0byBkaXNwbGF5CiAgICAgICAgICogQHJldHVybnMge2ltZywgdW5pdCwgYW1vdW50fQogICAgICAgICAqLwogICAgICAgIGRhdGEgKCkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEN1cnJlbmN5KHsKICAgICAgICAgICAgLy8gICAgIGFiYnI6IHRoaXMuYWJicgogICAgICAgICAgICAvLyB9KSk7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEN1cnJlbmN5KHsKICAgICAgICAgICAgICAgIGFiYnI6IHRoaXMuYWJicgogICAgICAgICAgICB9KTsKCiAgICAgICAgfSwKICAgICAgICAuLi5tYXBTdGF0ZShbCiAgICAgICAgICAgICJhYmJySW5wdXRFZGl0aW5nIiwKICAgICAgICAgICAgImlzQXBwTW9kZUVkaXQiLAogICAgICAgICAgICAibGlzdEFiYnIiCiAgICAgICAgXSkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYWJickNsaWNrZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBtYXBNdXRhdGlvbnMgaXQKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjaGFuZ2VUb3BSb3ciLCB7CiAgICAgICAgICAgICAgICBhYmJyOiB0aGlzLmFiYnIKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB0b2dnbGVFZGl0aW5nOiBmdW5jdGlvbiAoc3RhcnRFZGl0aW5nKSB7CiAgICAgICAgICAgIC8vIGRlYm91bmNlCiAgICAgICAgICAgIC8vIGlmIG5vdCBlZGl0aW5nIHRoaXMgY29tcG9uZW50IGFuZCB1c2VyIGlzIG5vdCBleGl0aW5nIGVkaXRpbmcKICAgICAgICAgICAgLy8gZG8gbm90aGluZwogICAgICAgICAgICBpZiAodGhpcy5hYmJySW5wdXRFZGl0aW5nICE9PSB0aGlzLmFiYnIgJiYgIXN0YXJ0RWRpdGluZykgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbmN5IGJlaW5nIGVkaXRlZCB0byB0aGlzIG9uZQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInRvZ2dsZUVkaXRpbmciLCB7CiAgICAgICAgICAgICAgICBhYmJyOiB0aGlzLmFiYnIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAodGhpcy5hYmJySW5wdXRFZGl0aW5nID09PSB0aGlzLmFiYnIpIHsKICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGVkaXRpbmcgdGhpcyBjb21wb25lbnQKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBpbnB1dCB2YWx1ZQogICAgICAgICAgICAgICAgdGhpcy5hbW91bnRFZGl0aW5nID0gdGhpcy5kYXRhLmFtb3VudDsKCiAgICAgICAgICAgICAgICAvLyBpbnB1dCBmb2N1cwogICAgICAgICAgICAgICAgLy8gc2VsZWN0CiAgICAgICAgICAgICAgICBjb25zdCBlbG0gPSB0aGlzLiRyZWZzLmlucHV0OwogICAgICAgICAgICAgICAgZWxtLmZvY3VzKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBleGl0IGVkaXRpbmcKICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBjdXJyZW5jeSBhbW91bnQKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlQW1vdW50IiwgewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogdGhpcy5hbW91bnRFZGl0aW5nLAogICAgICAgICAgICAgICAgICAgIGFiYnI6IHRoaXMuYWJicgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICBidG5SZW1vdmU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdkZWxldGVBYmJyJywgewogICAgICAgICAgICAgICAgYWJicjogdGhpcy5hYmJyCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sCn07Cg=="},{"version":3,"sources":["currency.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"currency.vue","sourceRoot":"src/views/currency","sourcesContent":["<template xmlns=\"http://www.w3.org/1999/html\">\n    <div>\n        <!--Left Part-->\n        <div class=\"table-cell-left col\"\n             :class=\"{s10: isAppModeEdit, s12: !isAppModeEdit}\">\n            <!--Row 1-->\n            <!--Image and Abbr. of Currency-->\n            <div class=\"table-cell-name col s4\" @click=\"abbrClicked()\">\n                <img class=\"imgNation\" v-on:src=\"data.img\" alt=\"\">\n                <span class=\"abbrNation\">{{ abbr }}</span>\n            </div>\n            <!--Amount and Input-->\n            <div class=\"table-cell-number col s8\">\n                <div class=\"col s12\">\n                <span class=\"table-amount col s12 right-align\"\n                      v-show=\"!abbrInputEditing || abbr !== abbrInputEditing\"\n                      @click=\"toggleEditing(true)\">\n                    {{ data.amount }}\n                </span>\n                    <input class=\"table-input col s12 right-align\"\n                           type=\"number\"\n                           ref=\"input\"\n                           v-show=\"abbrInputEditing && abbr === abbrInputEditing\"\n                           v-model=\"amountEditing\"\n                           @blur=\"toggleEditing(false)\"\n                           @keyup.enter=\"toggleEditing(false)\"\n                           @keyup.esc=\"toggleEditing(false)\">\n                </div>\n            </div>\n            <!--Row 2-->\n            <div class=\"col s12\">\n                <span class=\"table-money-unit col s12 right-align\">{{ data.unit }}</span>\n            </div>\n        </div>\n\n\n\n\n        <!--Right Part-->\n        <div class=\"col s2\"\n             v-show=\"isAppModeEdit\"\n        >\n            <div class=\"row edit-btn\"\n                 @click=\"btnRemove()\">\n                <i class=\"fas fa-trash\"></i>\n            </div>\n\n            <div class=\"row handle edit-btn\">\n                <i class=\"fas fa-bars\"></i>\n<!--                <i class=\"material-icons\">view_headline</i>-->\n<!--                <i class=\"material-icons\">insert_chart</i>-->\n<!--                <i><a class=\"btn-floating yellow darken-1\"><i class=\"material-icons\">format_quote</i></a></i>-->\n<!--                <i><a class=\"btn-floating green\"><i class=\"material-icons\">publish</i></a></i>-->\n<!--                <i><a class=\"btn-floating blue\"><i class=\"material-icons\">attach_file</i></a></i>-->\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapState} from \"vuex\";\n\n    export default {\n        name: \"currency\",\n        // the abbreviation of currency to display for this component\n        props: [\"abbr\"],\n        data: function () {\n            return {\n                amountEditing: null\n            };\n        },\n        computed: {\n            /**\n             * Gets data to display\n             * @returns {img, unit, amount}\n             */\n            data () {\n                // console.log(this.$store.getters.getCurrency({\n                //     abbr: this.abbr\n                // }));\n                return this.$store.getters.getCurrency({\n                    abbr: this.abbr\n                });\n\n            },\n            ...mapState([\n                \"abbrInputEditing\",\n                \"isAppModeEdit\",\n                \"listAbbr\"\n            ])\n        },\n        methods: {\n            abbrClicked: function () {\n                // no need to mapMutations it\n                this.$store.commit(\"changeTopRow\", {\n                    abbr: this.abbr\n                });\n            },\n            toggleEditing: function (startEditing) {\n                // debounce\n                // if not editing this component and user is not exiting editing\n                // do nothing\n                if (this.abbrInputEditing !== this.abbr && !startEditing) {\n                    return;\n                }\n\n                // update the currency being edited to this one\n                this.$store.commit(\"toggleEditing\", {\n                    abbr: this.abbr\n                });\n\n                if (this.abbrInputEditing === this.abbr) {\n                    // start editing this component\n                    // update input value\n                    this.amountEditing = this.data.amount;\n\n                    // input focus\n                    // select\n                    const elm = this.$refs.input;\n                    elm.focus();\n                } else {\n                    // exit editing\n                    // update currency amount\n                    this.$store.commit(\"updateAmount\", {\n                        amount: this.amountEditing,\n                        abbr: this.abbr\n                    });\n                }\n\n            },\n            btnRemove: function () {\n                this.$store.commit('deleteAbbr', {\n                    abbr: this.abbr\n                });\n            }\n        },\n    };\n</script>\n\n<style scoped lang=\"scss\">\n    $border-color: rgba(128, 128, 128, 0.1);\n\n    input {\n        font-size: 1.6em;\n    }\n\n    .edit-btn {\n        cursor: pointer;\n        margin: 0;\n        text-align: center;\n        padding: 0.28em 0;\n\n        border-left: $border-color 1px solid;\n\n        &:first-child {\n            border-bottom: $border-color 1px solid;\n        }\n    }\n\n    .abbrNation {\n        font-weight: bold;\n        font-size: 1.5em;\n    }\n\n    .table-amount {\n        font-size: 1.6em;\n    }\n\n    .table-money-unit {\n        font-weight: lighter;\n    }\n\n</style>"]}]}